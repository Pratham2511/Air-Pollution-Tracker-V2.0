const rawCityRecords = [
  'amsterdam|Amsterdam|Netherlands|52.3676|4.9041|Europe|1163000',
  'ankara|Ankara|Türkiye|39.9334|32.8597|Asia|5504000',
  'athens|Athens|Greece|37.9838|23.7275|Europe|3153000',
  'auckland|Auckland|New Zealand|-36.8485|174.7633|Oceania|1657000',
  'baghdad|Baghdad|Iraq|33.3152|44.3661|Asia|7500000',
  'baku|Baku|Azerbaijan|40.4093|49.8671|Asia|2305000',
  'bangkok|Bangkok|Thailand|13.7563|100.5018|Asia|10600000',
  'barcelona|Barcelona|Spain|41.3851|2.1734|Europe|5600000',
  'beijing|Beijing|China|39.9042|116.4074|Asia|21540000',
  'beirut|Beirut|Lebanon|33.8938|35.5018|Asia|2400000',
  'belgrade|Belgrade|Serbia|44.7866|20.4489|Europe|1680000',
  'berlin|Berlin|Germany|52.52|13.405|Europe|3769000',
  'bern|Bern|Switzerland|46.948|7.4474|Europe|434000',
  'birmingham-uk|Birmingham|United Kingdom|52.4862|-1.8904|Europe|2840000',
  'bogota|Bogotá|Colombia|4.711| -74.0721|South America|10950000',
  'brasilia|Brasília|Brazil|-15.8267|-47.9218|South America|4300000',
  'brisbane|Brisbane|Australia|-27.4698|153.0251|Oceania|2514000',
  'brussels|Brussels|Belgium|50.8503|4.3517|Europe|2115000',
  'bucharest|Bucharest|Romania|44.4268|26.1025|Europe|1883000',
  'budapest|Budapest|Hungary|47.4979|19.0402|Europe|3045000',
  'buenos-aires|Buenos Aires|Argentina|-34.6037|-58.3816|South America|14967000',
  'cairo|Cairo|Egypt|30.0444|31.2357|Africa|20076000',
  'calgary|Calgary|Canada|51.0447|-114.0719|North America|1392000',
  'cape-town|Cape Town|South Africa|-33.9249|18.4241|Africa|4615000',
  'caracas|Caracas|Venezuela|10.4806|-66.9036|South America|2920000',
  'casablanca|Casablanca|Morocco|33.5731|-7.5898|Africa|4325000',
  'chennai|Chennai|India|13.0827|80.2707|Asia|11564000',
  'chicago|Chicago|USA|41.8781|-87.6298|North America|9121000',
  'copenhagen|Copenhagen|Denmark|55.6761|12.5683|Europe|1365000',
  'dar-es-salaam|Dar es Salaam|Tanzania|-6.7924|39.2083|Africa|7000000',
  'delhi|New Delhi|India|28.6139|77.209|Asia|29617000',
  'dhaka|Dhaka|Bangladesh|23.8103|90.4125|Asia|21600000',
  'doha|Doha|Qatar|25.2854|51.531|Asia|2758000',
  'dubai|Dubai|United Arab Emirates|25.2048|55.2708|Asia|3388000',
  'dublin|Dublin|Ireland|53.3498|-6.2603|Europe|1201000',
  'durban|Durban|South Africa|-29.8587|31.0218|Africa|3700000',
  'edmonton|Edmonton|Canada|53.5461|-113.4938|North America|1493000',
  'frankfurt|Frankfurt|Germany|50.1109|8.6821|Europe|763000',
  'geneva|Geneva|Switzerland|46.2044|6.1432|Europe|621000',
  'glasgow|Glasgow|United Kingdom|55.8642|-4.2518|Europe|1673000',
  'guangzhou|Guangzhou|China|23.1291|113.2644|Asia|14904000',
  'guatemala-city|Guatemala City|Guatemala|14.6349|-90.5069|North America|3000000',
  'hamburg|Hamburg|Germany|53.5511|9.9937|Europe|1841000',
  'hangzhou|Hangzhou|China|30.2741|120.1551|Asia|10000000',
  'hanoi|Hanoi|Vietnam|21.0278|105.8342|Asia|8046000',
  'harare|Harare|Zimbabwe|-17.8292|31.0522|Africa|1606000',
  'helsinki|Helsinki|Finland|60.1699|24.9384|Europe|1316000',
  'ho-chi-minh-city|Ho Chi Minh City|Vietnam|10.8231|106.6297|Asia|9514000',
  'hong-kong|Hong Kong|China|22.3193|114.1694|Asia|7480000',
  'houston|Houston|USA|29.7604|-95.3698|North America|7100000',
  'istanbul|Istanbul|Türkiye|41.0082|28.9784|Asia|15460000',
  'jakarta|Jakarta|Indonesia|-6.2088|106.8456|Asia|10958000',
  'jeddah|Jeddah|Saudi Arabia|21.4858|39.1925|Asia|4278000',
  'johannesburg|Johannesburg|South Africa|-26.2041|28.0473|Africa|5565000',
  'kabul|Kabul|Afghanistan|34.5553|69.2075|Asia|4600000',
  'kampala|Kampala|Uganda|0.3476|32.5825|Africa|1736000',
  'karachi|Karachi|Pakistan|24.8607|67.0011|Asia|14910000',
  'kathmandu|Kathmandu|Nepal|27.7172|85.324|Asia|1300000',
  'kigali|Kigali|Rwanda|-1.9706|30.1044|Africa|1131000',
  'kingston|Kingston|Jamaica|17.9712|-76.7936|North America|670000',
  'kinshasa|Kinshasa|DR Congo|-4.4419|15.2663|Africa|14500000',
  'kolkata|Kolkata|India|22.5726|88.3639|Asia|14680000',
  'kuala-lumpur|Kuala Lumpur|Malaysia|3.139|101.6869|Asia|8210000',
  'kuwait-city|Kuwait City|Kuwait|29.3759|47.9774|Asia|4500000',
  'lagos|Lagos|Nigeria|6.5244|3.3792|Africa|15388000',
  'lahore|Lahore|Pakistan|31.5204|74.3587|Asia|13260000',
  'lima|Lima|Peru|-12.0464|-77.0428|South America|9565000',
  'lisbon|Lisbon|Portugal|38.7223|-9.1393|Europe|2946000',
  'london|London|United Kingdom|51.5072|-0.1276|Europe|9426000',
  'los-angeles|Los Angeles|USA|34.0522|-118.2437|North America|12816000',
  'luanda|Luanda|Angola|-8.839|13.2894|Africa|8730000',
  'luxembourg|Luxembourg City|Luxembourg|49.6116|6.1319|Europe|122000',
  'madrid|Madrid|Spain|40.4168|-3.7038|Europe|6665000',
  'manchester|Manchester|United Kingdom|53.4808|-2.2426|Europe|2800000',
  'manila|Manila|Philippines|14.5995|120.9842|Asia|13923400',
  'maputo|Maputo|Mozambique|-25.9692|32.5732|Africa|1375000',
  'marseille|Marseille|France|43.2965|5.3698|Europe|1590000',
  'melbourne|Melbourne|Australia|-37.8136|144.9631|Oceania|5078000',
  'mexico-city|Mexico City|Mexico|19.4326|-99.1332|North America|21581000',
  'miami|Miami|USA|25.7617|-80.1918|North America|6198000',
  'milano|Milan|Italy|45.4642|9.19|Europe|3300000',
  'montreal|Montreal|Canada|45.5017|-73.5673|North America|4200000',
  'mumbai|Mumbai|India|19.076|72.8777|Asia|20500000',
  'munich|Munich|Germany|48.1351|11.582|Europe|2967000',
  'muscat|Muscat|Oman|23.588|58.3829|Asia|1600000',
  'nairobi|Nairobi|Kenya|-1.2921|36.8219|Africa|5545000',
  'naples|Naples|Italy|40.8518|14.2681|Europe|3080000',
  'new-york|New York City|USA|40.7128|-74.006|North America|18819000',
  'osaka|Osaka|Japan|34.6937|135.5023|Asia|19281000',
  'oslo|Oslo|Norway|59.9139|10.7522|Europe|1041000',
  'ottawa|Ottawa|Canada|45.4215|-75.6972|North America|1450000',
  'paris|Paris|France|48.8566|2.3522|Europe|11020000',
  'philadelphia|Philadelphia|USA|39.9526|-75.1652|North America|6100000',
  'phoenix|Phoenix|USA|33.4484|-112.074|North America|4868000',
  'prague|Prague|Czechia|50.0755|14.4378|Europe|1324000',
  'qingdao|Qingdao|China|36.0671|120.3826|Asia|9500000',
  'quito|Quito|Ecuador|-0.1807|-78.4678|South America|2011000',
  'riyadh|Riyadh|Saudi Arabia|24.7136|46.6753|Asia|7485000',
  'rome|Rome|Italy|41.9028|12.4964|Europe|4356000',
  'san-diego|San Diego|USA|32.7157|-117.1611|North America|3334000',
  'san-francisco|San Francisco|USA|37.7749|-122.4194|North America|4725000',
  'san-jose|San José|Costa Rica|9.9281|-84.0907|North America|1600000',
  'san-salvador|San Salvador|El Salvador|13.6929|-89.2182|North America|1200000',
  'santiago|Santiago|Chile|-33.4489|-70.6693|South America|7000000',
  'santo-domingo|Santo Domingo|Dominican Republic|18.4861|-69.9312|North America|3000000',
  'sao-paulo|São Paulo|Brazil|-23.55|-46.6333|South America|22043000',
  'seattle|Seattle|USA|47.6062|-122.3321|North America|3988000',
  'seoul|Seoul|South Korea|37.5665|126.978|Asia|9733500',
  'shanghai|Shanghai|China|31.2304|121.4737|Asia|27218000',
  'shenzhen|Shenzhen|China|22.5431|114.0579|Asia|17500000',
  'singapore|Singapore|Singapore|1.3521|103.8198|Asia|5704000',
  'sofia|Sofia|Bulgaria|42.6977|23.3219|Europe|1323000',
  'stockholm|Stockholm|Sweden|59.3293|18.0686|Europe|2395000',
  'surabaya|Surabaya|Indonesia|-7.2575|112.7521|Asia|2960000',
  'sydney|Sydney|Australia|-33.8688|151.2093|Oceania|5346000',
  'tampa|Tampa|USA|27.9506|-82.4572|North America|3175000',
  'taipei|Taipei|Taiwan|25.033|121.5654|Asia|2650000',
  'tbilisi|Tbilisi|Georgia|41.7151|44.8271|Asia|1118000',
  'tehran|Tehran|Iran|35.6892|51.389|Asia|13956000',
  'tel-aviv|Tel Aviv|Israel|32.0853|34.7818|Asia|4515000',
  'tokyo|Tokyo|Japan|35.6762|139.6503|Asia|37468000',
  'toronto|Toronto|Canada|43.6532|-79.3832|North America|6313000',
  'tunis|Tunis|Tunisia|36.8065|10.1815|Africa|2700000',
  'valencia|Valencia|Spain|39.4699|-0.3763|Europe|1600000',
  'vancouver|Vancouver|Canada|49.2827|-123.1207|North America|2636000',
  'vienna|Vienna|Austria|48.2082|16.3738|Europe|1952000',
  'vilnius|Vilnius|Lithuania|54.6872|25.2797|Europe|706000',
  'warsaw|Warsaw|Poland|52.2297|21.0122|Europe|3100000',
  'washington-dc|Washington D.C.|USA|38.9072|-77.0369|North America|6300000',
  'wellington|Wellington|New Zealand|-41.2865|174.7762|Oceania|430000',
  'yangon|Yangon|Myanmar|16.8409|96.1735|Asia|5400000',
  'yerevan|Yerevan|Armenia|40.1792|44.4991|Asia|1087000',
  'zagreb|Zagreb|Croatia|45.815|15.9819|Europe|804000',
  'zurich|Zurich|Switzerland|47.3769|8.5417|Europe|1579000',
  'abidjan|Abidjan|Côte d’Ivoire|5.3453|-4.0244|Africa|5426000',
  'abuja|Abuja|Nigeria|9.0765|7.3986|Africa|3623000',
  'accra|Accra|Ghana|5.6037|-0.187|Africa|2559000',
  'addis-ababa|Addis Ababa|Ethiopia|8.9806|38.7578|Africa|5275000',
  'algiers|Algiers|Algeria|36.7538|3.0588|Africa|3416000',
  'antananarivo|Antananarivo|Madagascar|-18.8792|47.5079|Africa|3000000',
  'asuncion|Asunción|Paraguay|-25.2637|-57.5759|South America|2920000',
  'astana|Astana|Kazakhstan|51.1694|71.4491|Asia|1200000',
  'bamako|Bamako|Mali|12.6392|-8.0029|Africa|2800000',
  'bandar-seri-begawan|Bandar Seri Begawan|Brunei|4.9031|114.9398|Asia|42000',
  'belmopan|Belmopan|Belize|17.251| -88.759|North America|20000',
  'bishkek|Bishkek|Kyrgyzstan|42.8746|74.5698|Asia|1090000',
  'bratislava|Bratislava|Slovakia|48.1486|17.1077|Europe|666000',
  'bruges|Bruges|Belgium|51.2093|3.2247|Europe|118000',
  'buchs|Buchs|Liechtenstein|47.1662|9.477|Europe|13000',
  'cali|Cali|Colombia|3.4516|-76.532|South America|3050000',
  'canberra|Canberra|Australia|-35.2809|149.13|Oceania|460000',
  'cartagena|Cartagena|Colombia|10.391|-75.4794|South America|1080000',
  'colombo|Colombo|Sri Lanka|6.9271|79.8612|Asia|752000',
  'conakry|Conakry|Guinea|9.6412|-13.5784|Africa|2440000',
  'cotonou|Cotonou|Benin|6.3703|2.3912|Africa|2400000',
  'da-nang|Da Nang|Vietnam|16.0544|108.2022|Asia|1130000',
  'dakar|Dakar|Senegal|14.7167|-17.4677|Africa|3500000',
  'damascus|Damascus|Syria|33.5138|36.2765|Asia|2500000',
  'djibouti-city|Djibouti City|Djibouti|11.8251|42.5903|Africa|603000',
  'dili|Dili|Timor-Leste|-8.5569|125.5603|Asia|222000',
  'dover|Dover|United Kingdom|51.129|1.308|Europe|31000',
  'freetown|Freetown|Sierra Leone|8.4657|-13.2317|Africa|1200000',
  'funafuti|Funafuti|Tuvalu|-8.5201|179.1981|Oceania|6500',
  'georgetown|Georgetown|Guyana|6.8013|-58.1551|South America|118000',
  'gothenburg|Gothenburg|Sweden|57.7089|11.9746|Europe|590000',
  'havana|Havana|Cuba|23.1136|-82.3666|North America|2140000',
  'honolulu|Honolulu|USA|21.3069|-157.8583|North America|988000',
  'islamabad|Islamabad|Pakistan|33.6844|73.0479|Asia|1095000',
  'kingstown|Kingstown|Saint Vincent and the Grenadines|13.160| -61.224|North America|36000',
  'kuala-terengganu|Kuala Terengganu|Malaysia|5.329|103.1378|Asia|400000',
  'kuopio|Kuopio|Finland|62.8924|27.6806|Europe|119000',
  'la-paz|La Paz|Bolivia|-16.4897|-68.1193|South America|2150000',
  'laguardia|San Sebastián|Spain|43.3183|-1.9812|Europe|187000',
  'libreville|Libreville|Gabon|0.4162|9.4673|Africa|703000',
  'lilongwe|Lilongwe|Malawi|-13.9626|33.7741|Africa|1200000',
  'lome|Lomé|Togo|6.1725|1.2314|Africa|2000000',
  'los-angeles-de-san-rafael|San José|Costa Rica|9.9281|-84.0907|North America|1600000',
  'luang-prabang|Luang Prabang|Laos|19.8856|102.1345|Asia|56000',
  'lusaka|Lusaka|Zambia|-15.3875|28.3228|Africa|3200000',
  'malabo|Malabo|Equatorial Guinea|3.7504|8.7371|Africa|297000',
  'male|Malé|Maldives|4.1755|73.5093|Asia|252000',
  'managua|Managua|Nicaragua|12.114| -86.2362|North America|1540000',
  'manama|Manama|Bahrain|26.2235|50.5876|Asia|541000',
  'maple-ridge|Maple Ridge|Canada|49.2194|-122.6019|North America|99000',
  'maseru|Maseru|Lesotho|-29.3151|27.4869|Africa|330000',
  'mbabane|Mbabane|Eswatini|-26.3054|31.1367|Africa|95000',
  'mdina|Mdina|Malta|35.8895|14.4034|Europe|3000',
  'mexicali|Mexicali|Mexico|32.6245|-115.4523|North America|1049000',
  'milanesa|Cordoba|Argentina|-31.4201|-64.1888|South America|1600000',
  'minsk|Minsk|Belarus|53.9|27.5667|Europe|2000000',
  'mogadishu|Mogadishu|Somalia|2.0469|45.3182|Africa|2800000',
  'monaco|Monaco|Monaco|43.7384|7.4246|Europe|39000',
  'monrovia|Monrovia|Liberia|6.3156|-10.8074|Africa|1130000',
  'moroni|Moroni|Comoros|-11.7172|43.2473|Africa|120000',
  'musina|Musina|South Africa|-22.351|30.041|Africa|130000',
  'ndjamena|N’Djamena|Chad|12.1348|15.0557|Africa|1600000',
  'niamey|Niamey|Niger|13.5116|2.1254|Africa|1300000',
  'nicosia|Nicosia|Cyprus|35.1856|33.3823|Europe|330000',
  'nouakchott|Nouakchott|Mauritania|18.0735|-15.9582|Africa|1200000',
  'noumea|Nouméa|New Caledonia|-22.271|166.441|Oceania|182000',
  'ormeau|Oranjestad|Aruba|12.5092|-70.0086|North America|35000',
  'osijek|Osijek|Croatia|45.554|18.6955|Europe|108000',
  'ouagadougou|Ouagadougou|Burkina Faso|12.3714|-1.5197|Africa|2500000',
  'paramaribo|Paramaribo|Suriname|5.852| -55.203|South America|250000',
  'phnom-penh|Phnom Penh|Cambodia|11.5564|104.9282|Asia|2800000',
  'podgorica|Podgorica|Montenegro|42.4304|19.2594|Europe|190000',
  'port-louis|Port Louis|Mauritius|-20.1609|57.5012|Africa|149000',
  'port-moresby|Port Moresby|Papua New Guinea|-9.4438|147.1803|Oceania|383000',
  'porto|Porto|Portugal|41.1579|-8.6291|Europe|1720000',
  'porto-novo|Porto-Novo|Benin|6.4969|2.6289|Africa|267000',
  'port-of-spain|Port of Spain|Trinidad and Tobago|10.6549|-61.5019|North America|544000',
  'pristina|Pristina|Kosovo|42.6629|21.1655|Europe|210000',
  'reykjavik|Reykjavík|Iceland|64.1466|-21.9426|Europe|236000',
  'riyadh-industrial|Dammam|Saudi Arabia|26.4207|50.0888|Asia|3000000',
  'salvador|Salvador|Brazil|-12.9777|-38.5016|South America|4000000',
  'sanaa|Sana’a|Yemen|15.3694|44.191|Asia|2900000',
  'sarajevo|Sarajevo|Bosnia and Herzegovina|43.8563|18.4131|Europe|555000',
  'seoul-metropolitan|Incheon|South Korea|37.4563|126.7052|Asia|2950000',
  'skopje|Skopje|North Macedonia|41.9973|21.428|Europe|640000',
  'st-georges|St. George’s|Grenada|12.0561|-61.7488|North America|42000',
  'st-johns|St. John’s|Antigua and Barbuda|17.1274|-61.8468|North America|22000',
  'stockton|Stockton|USA|37.9577|-121.2908|North America|920000',
  'suva|Suva|Fiji|-18.1248|178.4501|Oceania|180000',
  'tallinn|Tallinn|Estonia|59.437|24.7536|Europe|654000',
  'tangier|Tangier|Morocco|35.7595|-5.834|Africa|1060000',
  'tashkent|Tashkent|Uzbekistan|41.2995|69.2401|Asia|2900000',
  'thimphu|Thimphu|Bhutan|27.4728|89.639|Asia|115000',
  'tirana|Tirana|Albania|41.3275|19.8187|Europe|906000',
  'tokelau|Atafu|Tokelau|-8.5421|-172.5151|Oceania|1500',
  'tripoli|Tripoli|Libya|32.8872|13.1913|Africa|1160000',
  'ulaanbaatar|Ulaanbaatar|Mongolia|47.8864|106.9057|Asia|1480000',
  'urumqi|Ürümqi|China|43.8256|87.6168|Asia|4000000',
  'victoria|Victoria|Seychelles|-4.6191|55.4513|Africa|26000',
  'vientiane|Vientiane|Laos|17.9757|102.6331|Asia|948000',
  'windhoek|Windhoek|Namibia|-22.5609|17.0658|Africa|457000',
  'yaounde|Yaoundé|Cameroon|3.848|11.5021|Africa|4000000',
  'zagreb-coast|Rijeka|Croatia|45.3271|14.4422|Europe|195000',
  'zhejiang-hangzhou|Ningbo|China|29.8683|121.544|Asia|8560000'
];

const dominantPollutants = ['PM2.5', 'PM10', 'O₃', 'NO₂', 'SO₂', 'CO'];

const seededAqi = (index) => {
  const base = 45 + ((index * 17) % 280);
  const noise = ((index * 37) % 23) - 11;
  return Math.max(12, Math.min(420, base + noise));
};

export const CITY_CATALOG = rawCityRecords.map((record, index) => {
  const [id, name, country, lat, lng, region, population] = record.split('|').map((value) => value.trim());
  const populationNumber = Number(population);
  const aqi = seededAqi(index);
  const dominantPollutant = dominantPollutants[index % dominantPollutants.length];

  return {
    id,
    name,
    country,
    region,
    lat: Number(lat),
    lng: Number(lng),
    population: populationNumber,
    dominantPollutant,
    aqi,
    pollutants: {
      'PM2.5': `${Math.round(aqi * 0.82)} µg/m³`,
      PM10: `${Math.round(aqi * 0.64)} µg/m³`,
      O3: `${Math.round(aqi * 0.18)} ppb`,
      NO2: `${Math.round(aqi * 0.22)} ppb`,
      SO2: `${Math.round(aqi * 0.12)} ppb`,
      CO: `${(aqi * 0.01).toFixed(1)} ppm`,
    },
    metadata: {
      population: populationNumber,
      timezoneOffset: Math.round(Number(lng) / 15),
      source: 'cityCatalog@v1',
    },
  };
});

export const CITY_CATALOG_BY_ID = CITY_CATALOG.reduce((acc, city) => {
  acc[city.id] = city;
  return acc;
}, {});

export const DEFAULT_TRACKED_CITY_IDS = ['delhi', 'mumbai', 'london'];

export const getRandomCitySample = (count = 12) => {
  const sample = [];
  for (let i = 0; i < CITY_CATALOG.length && sample.length < count; i += 1) {
    if (i % Math.ceil(CITY_CATALOG.length / count) === 0) {
      sample.push(CITY_CATALOG[i]);
    }
  }
  return sample;
};

export default CITY_CATALOG;
